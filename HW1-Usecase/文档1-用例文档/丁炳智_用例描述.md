### 4.1 访问验证

- 用例编号：1
- 名称：访问验证
- 创建者：丁炳智
- 创建日期：2021-4-21 22:56
- 最后一次更新者：丁炳智
- 更新日期：2021-4-21 23:58
- 参与者 ：
  - 学生、教师、网站管理员。目标是注册可以登录网页的账号，登录后，可以进一步实现浏览、购买课程等一系列后续操作，网站管理员登录后可进行网站管理的后续操作
- 触发条件：
  - 用户点击首页右上方”登录/注册“按钮后，进入登陆界面
  - 在登陆界面，用户点击”去注册“按钮进入注册界面
- 前置条件：

  - 用户网络状况良好，可以正常进入Courselearning网站首页
- 后置条件：
  - 用户成功注册后，存储用户注册信息，包括其用户名、手机号码、密码和用户角色
- 优先级：高
- 正常流程：
  1. 用户点击“登录/注册”按钮，进入登录界面，若用户已注册，则输入电话号码/用户名、密码进行登录
  2. 页面提示：“登录成功，欢迎XXX！”
  3. 若用户尚未注册，则点击“去注册”按钮进入注册页面进行注册
  4. 用户进入注册界面后，输入用户名、手机号码、密码信息，并选择一种用户角色
  5. 上述信息输入完毕，用户点击”注册“按钮，网页弹出提示”注册成功！欢迎XXX“（XXX为用户注册的用户名）
  6. 用户回到登录界面，输入刚才注册的手机号和密码，可以正常登录网页
- 扩展流程：
  - 1a. 登录时，用户的用户信息非法输入，有某项信息违反了输入规则或未输入
    - 2. 页面提示：“输入不得为空！”或“输入用户名过长！”等错误信息，并提示用户重新输入，回到正常流程第1步
  - 1b. 登录时，用户输入的用户名或手机号尚未注册
    - 2. 页面提示：“该用户名尚未注册！”或“该手机号尚未注册！”，并提示用户注册账号，向下进行正常流程第3步
  - 1c. 登录时，用户输入的用户名/手机号已注册，但密码输入错误
    - 2. 页面提示：“密码输入错误！”，并提示用户重新输入，回到正常流程第1步
  - 4a. 注册时，用户输入的用户信息为非法输入，有某项信息违反了输入规则或未输入
    - 5. 页面提示：“输入不得为空！”或“输入用户名过长！”等错误信息，并提示用户重新输入，回到正常流程第4步
  - 4b. 注册时，用户输入的用户名/手机号已被注册
    - 5. 页面提示：“该用户名/手机号已被注册！”，并提示用户去登录，用户点击“去登录”按钮，回到正常流程第1步
- 特殊需求：
  - 登录时，用户密码错误输入次数过多，则要求其进行安全验证（通过手机接收验证码、识别图形数字验证码等方式）
  - 登录时，如果用户忘记密码，则应该提供找回密码的功能，通过手机接收验证码等方式进行密码修改

### 4.2 账户管理

- 用例编号：2
- 名称：访问验证
- 创建者：丁炳智
- 创建日期：2021-4-22 10:36
- 最后一次更新者：丁炳智
- 更新日期：2021-4-22 12:00
- 参与者 ：
  - 学生、教师、网站管理员。目标是查看个人信息、账户余额，学生用户可以对账户余额进行充值，以便有足够的余额购买欲学习的课程
- 触发条件：
  - 用户点击首页右上方”个人中心“按钮后，进入个人中心界面
  - 在个人中心界面，用户可以查看账户余额，并点击”充值“按钮进入充值界面
- 前置条件：

  - 用户网络状况良好，可以正常进入Courselearning网站首页和个人中心
- 后置条件：
  - 用户成功充值后，存储用户充值信息，包括其充值金额、充值时间等，并更新用户余额
- 优先级：高
- 正常流程：
  1. 已登录的用户点击“个人中心”按钮，进入个人中心界面，用户可以查看个人信息，包括用户ID、用户名、手机号、用户角色、注册时间及账户余额
  2. 学生用户若想充值，点击“充值”按钮
  3. 页面弹出“账户充值”窗口（包含充值金额输入框、充值按钮、取消按钮），用户输入充值金额，并点击窗口上的“充值”按钮
  4. 系统转至支付界面，用户在此进行支付
  5. 用户支付成功后，回到个人中心页面，页面提示“充值成功！”，系统更新用户账户余额
- 扩展流程：
  - 2a. 在充值窗口，用户点击“取消”按钮
    - 3. 系统回到个人中心页面，充值取消，账户余额不变
  - 3a. 支付时，用户支付失败
    - 4. 页面提示：“充值失败！请重新充值”，账户余额不变
- 特殊需求：
  - 用户信息中的注册时间应以北京时间为准
  - 用户支付时，应可以选择多种支付方式，如微信支付、支付宝等
  - 用户成功支付后，系统应在5秒内正确更新用户余额